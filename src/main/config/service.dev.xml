<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
           http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

  <bean id="controller"
	class="nz.co.jsrsolutions.ds3.DataScraper3Controller"
	scope="singleton">
    <constructor-arg ref="eodDataProvider"/>
    <constructor-arg ref="eodDataSink"/>
    <constructor-arg ref="emailService"/>
  </bean>

  <bean id="eodDataProvider"
	class="nz.co.jsrsolutions.ds3.EodDataEodDataProvider"
	scope="singleton">
    <constructor-arg name="url"      value="http://ws.eoddata.com/data.asmx"/>
    <constructor-arg name="username" value="jsr1060"/>
    <constructor-arg name="password" value="frederick_38"/>
    <constructor-arg name="timeout"  value="60000"/>
  </bean>

  <bean id="eodDataSink"
	class="nz.co.jsrsolutions.ds3.Hdf5EodDataSink"
	scope="singleton">
    <constructor-arg name="filename" value="/tmp/eoddata.h5"/>
  </bean>

 <bean id="emailService"
        class="nz.co.jsrsolutions.util.EmailService"
        scope="singleton">
    <constructor-arg name="smtphost"   value="localhost"/>
    <constructor-arg name="smtpport"   value="25"/>
    <constructor-arg name="from"       value="ds3@jsrsolutions.co.nz"/>
    <constructor-arg name="recipients" value="jeremy.reeve1@gmail.com"/>
 </bean>

</beans>